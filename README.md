# Моделирование кривой процентных ставок

Сравнение параметрических моделей для кривой доходности облигаций.

## Что делаем

Берем исторические данные по ставкам с разными сроками погашения и аппроксимируем их параметрическими моделями. Сравниваем качество и скорость сходимости.

## Модели

### Diebold-Li (2006)
- 3 параметра (β₀, β₁, β₂), τ=2 фиксирован
- Обучение: **OLS** (аналитическое решение)
- Быстро, стабильно
- Файл: `models/DieboldLi.ipynb`

### Nelson-Siegel (1987)
- 4 параметра (β₀, β₁, β₂, τ)
- Обучение: **least_squares** (итеративная оптимизация)
- Базовая модель с оптимизируемым τ
- Файл: `models/Nelson–Siegel.ipynb`

### Svensson (1994)
- 6 параметров (β₀, β₁, β₂, β₃, τ₁, τ₂)
- Обучение: **least_squares** (итеративная оптимизация)
- Расширенная модель, больше гибкости
- Файл: `models/Svensson.ipynb`

## Структура

```
├── Comparison.ipynb           # Главный файл - сравнение моделей
├── models/
│   ├── DieboldLi.ipynb       # Модель Diebold-Li
│   ├── Nelson–Siegel.ipynb   # Модель Nelson-Siegel
│   └── Svensson.ipynb        # Модель Svensson
├── data/
│   ├── data.csv              # Исходные данные (1257 дат, 12 сроков)
│   └── data_overview.ipynb   # Обзор и анализ датасета
└── results/                   # Результаты после обучения
    ├── *_results.csv          # Параметры и метрики по датам
    ├── *_summary.csv          # Сводная статистика
    └── *_optimization_history.json  # История оптимизации (NS, Svensson)
```

## Сравнение

`Comparison.ipynb` содержит два раздела:

**1. Nelson-Siegel vs Svensson**
- Сравнение итеративных моделей (4 vs 6 параметров)
- Анализ скорости сходимости оптимизации
- Визуализация истории оптимизации

**2. Nelson-Siegel vs Diebold-Li**
- Итеративная vs аналитическая оптимизация
- Влияние фиксированного τ

## Запуск

```bash
pip install -r requirements.txt
jupyter notebook Comparison.ipynb
```

## Метрики

Для каждой модели считаем:
- **RMSE** - среднеквадратичная ошибка
- **R²** - коэффициент детерминации
- **MAE** - средняя абсолютная ошибка
- **Количество итераций** - для итеративных моделей

## Данные

`data/data.csv` - кривые процентных ставок:
- Период: 2020-2024 (1257 наблюдений)
- Сроки: 0.25, 0.5, 0.75, 1, 2, 3, 5, 7, 10, 15, 20, 30 лет
